{"ast":null,"code":"var _jsxFileName = \"C:\\\\UTN\\\\REACT JS\\\\3-Modulo 3\\\\tp final\\\\src\\\\Pages\\\\HomePage.js\";\nimport React, { Component } from 'react'; // import './../Componentes/Estilo.css';\n\nimport ListaPerfiles from '../Componentes/ListaPerfiles';\nimport firebase from '../Componentes/Firebase';\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      perfiles: []\n    };\n  }\n\n  componentDidMount() {\n    // if(localStorage.getItem(\"login\")){\n    firebase.database().ref('usuarios/').once('value').then(snapshot => {\n      console.log(snapshot.val());\n      this.setState({\n        perfiles: snapshot.val(),\n        isLoaded: true\n      });\n    }, error => {\n      console.log(error);\n      this.setState({\n        isLoaded: true,\n        error: error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      perfiles\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 20\n        }\n      }, \"Error: \", error.message);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 20\n        }\n      }, \" Loading...\");\n    } else {\n      if (this.state.perfiles != undefined) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }\n        }, Object.keys(this.state.perfiles).map((k, v) => /*#__PURE__*/React.createElement(ListaPerfiles, {\n          datos: this.state.perfiles[k],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 27\n          }\n        })));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }\n        }, \"No hay usuarios\"));\n      }\n    }\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/UTN/REACT JS/3-Modulo 3/tp final/src/Pages/HomePage.js"],"names":["React","Component","ListaPerfiles","firebase","HomePage","constructor","props","state","error","isLoaded","perfiles","componentDidMount","database","ref","once","then","snapshot","console","log","val","setState","render","message","undefined","Object","keys","map","k","v"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;;AAEA,MAAMC,QAAN,SAAuBH,SAAvB,CAAgC;AAE5BI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG,IADC;AAETC,MAAAA,QAAQ,EAAG,KAFF;AAGTC,MAAAA,QAAQ,EAAE;AAHD,KAAb;AAKH;;AACDC,EAAAA,iBAAiB,GAAE;AACf;AACGR,IAAAA,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwB,WAAxB,EAAqCC,IAArC,CAA0C,OAA1C,EACCC,IADD,CAEKC,QAAD,IAAa;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,GAAT,EAAZ;AACA,WAAKC,QAAL,CAAc;AACVV,QAAAA,QAAQ,EAAEM,QAAQ,CAACG,GAAT,EADA;AAEVV,QAAAA,QAAQ,EAAC;AAFC,OAAd;AAIH,KARN,EASMD,KAAD,IAAW;AACPS,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACY,WAAKY,QAAL,CAAc;AACVX,QAAAA,QAAQ,EAAG,IADD;AAEVD,QAAAA,KAAK,EAAEA;AAFG,OAAd;AAIf,KAfN;AAgBN;;AAEDa,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEb,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAA+B,KAAKH,KAA1C;;AACA,QAAGC,KAAH,EAAS;AACL,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAaA,KAAK,CAACc,OAAnB,CAAP;AACH,KAFD,MAEM,IAAG,CAACb,QAAJ,EAAa;AACf,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACH,KAFK,MAED;AACD,UAAG,KAAKF,KAAL,CAAWG,QAAX,IAAsBa,SAAzB,EAAmC;AAC/B,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACOC,MAAM,CAACC,IAAP,CAAY,KAAKlB,KAAL,CAAWG,QAAvB,EAAiCgB,GAAjC,CAAqC,CAACC,CAAD,EAAGC,CAAH,kBACtC,oBAAC,aAAD;AAAe,UAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWG,QAAX,CAAoBiB,CAApB,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADC,CADP,CADJ;AAKH,OAND,MAMK;AACD,4BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,CADA;AAIH;AACJ;AAEJ;;AAnD2B;;AAqDhC,eAAevB,QAAf","sourcesContent":["import React, { Component } from 'react';\r\n// import './../Componentes/Estilo.css';\r\nimport ListaPerfiles from '../Componentes/ListaPerfiles';\r\nimport firebase from '../Componentes/Firebase';\r\n\r\nclass HomePage extends Component{\r\n    perfiles;\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            error : null,\r\n            isLoaded : false,\r\n            perfiles :[]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // if(localStorage.getItem(\"login\")){\r\n           firebase.database().ref('usuarios/').once('value')\r\n           .then(\r\n               (snapshot) =>{\r\n                    console.log(snapshot.val());\r\n                    this.setState({\r\n                        perfiles: snapshot.val(),\r\n                        isLoaded:true\r\n                    });\r\n                },\r\n                (error) => {\r\n                    console.log(error)\r\n                                this.setState({\r\n                                    isLoaded : true,\r\n                                    error: error\r\n                                });\r\n                });\r\n    }\r\n\r\n    render(){\r\n        const { error, isLoaded, perfiles} = this.state;\r\n        if(error){\r\n            return <div>Error: {error.message}</div>;\r\n        }else if(!isLoaded){\r\n            return <div> Loading...</div>;\r\n        }else{\r\n            if(this.state.perfiles !=undefined){\r\n                return ( \r\n                    <div>\r\n                          {Object.keys(this.state.perfiles).map((k,v)=>\r\n                          <ListaPerfiles datos={this.state.perfiles[k]}/>)}\r\n                    </div>   )\r\n            }else{\r\n                return(\r\n                <div>\r\n                    <p>No hay usuarios</p>\r\n                </div>)\r\n            }\r\n        }\r\n   \r\n    }\r\n}\r\nexport default HomePage ;"]},"metadata":{},"sourceType":"module"}